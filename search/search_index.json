{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"index.html","text":"Welcome dogs-as-a-service.io is a RESTful API to serve dog photos over the internet. Browse the docs for more information about the current state of the API.","title":"Home"},{"location":"index.html#welcome","text":"dogs-as-a-service.io is a RESTful API to serve dog photos over the internet. Browse the docs for more information about the current state of the API.","title":"Welcome"},{"location":"about.html","text":"About dogs-as-a-service.io is created with one purpose: to serve dogs photos via REST API.","title":"About"},{"location":"about.html#about","text":"dogs-as-a-service.io is created with one purpose: to serve dogs photos via REST API.","title":"About"},{"location":"docs.html","text":"API Reference Introduction The dogs-as-a-service API is built on HTTP. The API is RESTful, it returns JSON and responds with standart HTTP codes. Authentication For some resources within this API, you must provide an authentication token in the request headers. Example: curl -iX GET -H 'Authorization: Bearer {API_TOKEN}' https://... User registration The platform is open for new users. Please follow this guide on how to acquire an authentication token to use with the API. Response Format API will always responde with JSON-encoded objects - Content-Type: application/json . The response body may vary according to the request method and resource used, but for each successful request the API will return these common parts: { \"sucess\": true, \"result\": {} } Where result tag will contain your requested data. Date format Since JSON doesn't have a built-in data type for dates the dates will be returned as string in UTC ISO-8601 format. HTTP response codes Code Status Description 200 OK Request was successful 201 Created The object was created successfully within the API 202 Accepted The object was created successfully but require some processing before it becomes available 400 Bad Request The server cannot or will not process the request 401 Unauthorized The request has not been applied because it lacks valid authentication credentials for the target resource; Wrong authorization token 403 Forbidden The server understood the request but refuses to authorize it; Insufficient permissions 404 Not Found The origin server did not find a current representation for the target resource or is not willing to disclose that one exists 409 Conflict The request could not be completed due to a conflict with the current state of the target resource; Object already exists 422 Unprocessable Entity The request provided invalid parameters 423 Locked The object is locked 50x Something is wrong with the API Example of an error response: { \"message\": \"The request has not been applied because it lacks valid authentication credentials for the target resource\", \"reason\": \"Authorization refused because the provided token is invalid, wrong, locked or does not exist anymore\", \"status\": \"Unauthorized\", \"success\": false } API Endpoints Currently, there is one endpoint available: v1 .","title":"Docs"},{"location":"docs.html#api-reference","text":"","title":"API Reference"},{"location":"docs.html#introduction","text":"The dogs-as-a-service API is built on HTTP. The API is RESTful, it returns JSON and responds with standart HTTP codes.","title":"Introduction"},{"location":"docs.html#authentication","text":"For some resources within this API, you must provide an authentication token in the request headers. Example: curl -iX GET -H 'Authorization: Bearer {API_TOKEN}' https://...","title":"Authentication"},{"location":"docs.html#user-registration","text":"The platform is open for new users. Please follow this guide on how to acquire an authentication token to use with the API.","title":"User registration"},{"location":"docs.html#response-format","text":"API will always responde with JSON-encoded objects - Content-Type: application/json . The response body may vary according to the request method and resource used, but for each successful request the API will return these common parts: { \"sucess\": true, \"result\": {} } Where result tag will contain your requested data.","title":"Response Format"},{"location":"docs.html#date-format","text":"Since JSON doesn't have a built-in data type for dates the dates will be returned as string in UTC ISO-8601 format.","title":"Date format"},{"location":"docs.html#http-response-codes","text":"Code Status Description 200 OK Request was successful 201 Created The object was created successfully within the API 202 Accepted The object was created successfully but require some processing before it becomes available 400 Bad Request The server cannot or will not process the request 401 Unauthorized The request has not been applied because it lacks valid authentication credentials for the target resource; Wrong authorization token 403 Forbidden The server understood the request but refuses to authorize it; Insufficient permissions 404 Not Found The origin server did not find a current representation for the target resource or is not willing to disclose that one exists 409 Conflict The request could not be completed due to a conflict with the current state of the target resource; Object already exists 422 Unprocessable Entity The request provided invalid parameters 423 Locked The object is locked 50x Something is wrong with the API Example of an error response: { \"message\": \"The request has not been applied because it lacks valid authentication credentials for the target resource\", \"reason\": \"Authorization refused because the provided token is invalid, wrong, locked or does not exist anymore\", \"status\": \"Unauthorized\", \"success\": false }","title":"HTTP response codes"},{"location":"docs.html#api-endpoints","text":"Currently, there is one endpoint available: v1 .","title":"API Endpoints"},{"location":"registration.html","text":"Registration To register your account you must complete a few steps. Step I. Create new account Make a POST request to the https://api.dogs-as-a-service.io/v1/register . email -- your email. Please specify existing email because you'll need to verify in before you will be able to use the API. Example request: curl -iX POST \\ -H 'Content-Type: application/json' \\ -d '{\"email\": \"me@example.com\"}' \\ http://api.dogs-as-a-service.io/v1/register Example response { \"result\": {}, \"status\": \"Accepted\", \"success\": true } Step II. Confirm your email address Please check your email inbox (especially a spam folder). In a few minutes from POSTing to the API resource, you will receive a confirmation email containing an activation link. Follow that link to activate your account. When you visit the email validation URL for the first time the platform will generate an authorization token for you. Save it as it is only obtainable once and exists only during the initial request. Example email To finish creating your account, confirm your email address by clicking this link: https://api.dogs-as-a-service.io/v1/register/XZrCW3NTC3GDP6G3cvTbaD4ph2RqDj6D8PXt58XF Kg5OvSAYiVHPgNpYbz4l","title":"Registration"},{"location":"registration.html#registration","text":"To register your account you must complete a few steps.","title":"Registration"},{"location":"registration.html#step-i-create-new-account","text":"Make a POST request to the https://api.dogs-as-a-service.io/v1/register . email -- your email. Please specify existing email because you'll need to verify in before you will be able to use the API.","title":"Step I. Create new account"},{"location":"registration.html#example-request","text":"curl -iX POST \\ -H 'Content-Type: application/json' \\ -d '{\"email\": \"me@example.com\"}' \\ http://api.dogs-as-a-service.io/v1/register","title":"Example request:"},{"location":"registration.html#example-response","text":"{ \"result\": {}, \"status\": \"Accepted\", \"success\": true }","title":"Example response"},{"location":"registration.html#step-ii-confirm-your-email-address","text":"Please check your email inbox (especially a spam folder). In a few minutes from POSTing to the API resource, you will receive a confirmation email containing an activation link. Follow that link to activate your account. When you visit the email validation URL for the first time the platform will generate an authorization token for you. Save it as it is only obtainable once and exists only during the initial request.","title":"Step II. Confirm your email address"},{"location":"registration.html#example-email","text":"To finish creating your account, confirm your email address by clicking this link: https://api.dogs-as-a-service.io/v1/register/XZrCW3NTC3GDP6G3cvTbaD4ph2RqDj6D8PXt58XF Kg5OvSAYiVHPgNpYbz4l","title":"Example email"},{"location":"docs/imagelimitations.html","text":"Image Limitations Maximum image size is 2Mb (2 * 1024 * 1024). Supported image formats are: jpg , jpe , jpeg , png , bmp . Image sha256 will be checked. If an image with the same sha already exists in the database you'll get 409 Conflict error code. The image will be placed in the queue for processing and analysis. It is required to ensure the image is: 1. safe, 2. contains a dog. Only after that, the image will become publicly available. Image processing Each uploaded image is going through a routine to ensure the image complies with the platform rules. We use Google Vision for image analysis. The current acceptance criteria are: Label detection must return a Dog label with the possibility of >= 70%. Safe search must return the following annotations: adult is either one of UNKNOWN , VERY_UNLIKELY , UNLIKELY . spoof is either one of UNKNOWN , VERY_UNLIKELY , UNLIKELY , POSSIBLE , LIKELY . medical is either one of UNKNOWN , VERY_UNLIKELY , UNLIKELY . violence is either one of UNKNOWN , VERY_UNLIKELY , UNLIKELY . racy is either one of UNKNOWN , VERY_UNLIKELY , UNLIKELY .","title":"Image Limitations"},{"location":"docs/imagelimitations.html#image-limitations","text":"Maximum image size is 2Mb (2 * 1024 * 1024). Supported image formats are: jpg , jpe , jpeg , png , bmp . Image sha256 will be checked. If an image with the same sha already exists in the database you'll get 409 Conflict error code. The image will be placed in the queue for processing and analysis. It is required to ensure the image is: 1. safe, 2. contains a dog. Only after that, the image will become publicly available.","title":"Image Limitations"},{"location":"docs/imagelimitations.html#image-processing","text":"Each uploaded image is going through a routine to ensure the image complies with the platform rules. We use Google Vision for image analysis. The current acceptance criteria are: Label detection must return a Dog label with the possibility of >= 70%. Safe search must return the following annotations: adult is either one of UNKNOWN , VERY_UNLIKELY , UNLIKELY . spoof is either one of UNKNOWN , VERY_UNLIKELY , UNLIKELY , POSSIBLE , LIKELY . medical is either one of UNKNOWN , VERY_UNLIKELY , UNLIKELY . violence is either one of UNKNOWN , VERY_UNLIKELY , UNLIKELY . racy is either one of UNKNOWN , VERY_UNLIKELY , UNLIKELY .","title":"Image processing"},{"location":"docs/v1.html","text":"v1 Description: Endpoint : api.dogs-as-a-service.io/v1 . Schema : HTTPS . Location: / [GET] Get welcome message. Example request: curl -iX GET \\ -H 'Content-Type: application/json' \\ https://api.dogs-as-a-service.io/v1 Example response: { \"result\": { \"message\": \"Welcome to the dogs-as-a-service public API\", \"version\": \"v1\" }, \"status\": \"OK\", \"success\": true } Location: /image [GET] Get a single image object of a random dog. Example request: curl -iX GET \\ -H 'Content-Type: application/json' \\ https://api.dogs-as-a-service.io/v1/image Example response: { \"result\": { \"image\": { \"_link\": { \"analysis\": \"https://api.dogs-as-a-service.io/v1/images/30a6f508-c195-4d56-b709-b9de87f71ba0/analysis\", \"collection\": \"https://api.dogs-as-a-service.io/v1/images\", \"self\": \"https://api.dogs-as-a-service.io/v1/images/30a6f508-c195-4d56-b709-b9de87f71ba0\" }, \"created_at\": \"2020-01-18T18:49:21\", \"locked\": false, \"original_name\": \"photo5294069722392438879.jpg\", \"rejected\": false, \"size\": 255615, \"url\": \"https://cdn.dogs-as-a-service.io/30a6f508-c195-4d56-b709-b9de87f71ba0.jpg\", \"uuid\": \"30a6f508-c195-4d56-b709-b9de87f71ba0\" } }, \"status\": \"OK\", \"success\": true } Location: /images [GET] Get list of images uploaded by the requestor. Authentication required Example request: curl -iX GET \\ -H 'Content-Type: application/json' \\ -H 'Authorization: Bearer {API_TOKEN}' \\ https://api.dogs-as-a-service.io/v1/images Example response: { \"result\": { \"images\": [ { \"_link\": { \"analysis\": \"https://api.dogs-as-a-service.io/v1/images/ea7b966b-1cc8-45a4-867b-233a14807dfa/analysis\", \"collection\": \"https://api.dogs-as-a-service.io/v1/images\", \"self\": \"https://api.dogs-as-a-service.io/v1/images/ea7b966b-1cc8-45a4-867b-233a14807dfa\" }, \"created_at\": \"2020-01-28T18:37:42\", \"locked\": false, \"original_name\": \"ronda.png\", \"rejected\": false, \"size\": 282228, \"url\": \"https://cdn.dogs-as-a-service.io/ea7b966b-1cc8-45a4-867b-233a14807dfa.png\", \"uuid\": \"ea7b966b-1cc8-45a4-867b-233a14807dfa\" } ] }, \"status\": \"OK\", \"success\": true } [POST] Upload new image to the dogs-as-a-service platform. Authentication required Limitations: Before image becomes available on the platform it must comply with the following limitataions Example request: curl -iX POST \\ -F 'file=@cool-doggo.jpg' \\ -H 'Authorization: Bearer {API_TOKEN}' \\ https://api.dogs-as-a-service.io/v1/images Example response: { \"message\": \"Accepted\", \"result\": { \"_link\": { \"self\": \"https://api.dogs-as-a-service.io/v1/images/108aefc8-2d3e-11ea-ada8-0242ac120003\" } }, \"success\": true } Location: /images/{image uuid} [GET] Get detailed information about specified image. Example request: curl -iX GET \\ -H 'Content-Type: application/json' \\ https://api.dogs-as-a-service.io/v1/images/fc0b6b82-746a-428e-9202-5f157487a846 Example response: { \"result\": { \"image\": { \"_link\": { \"analysis\": \"https://api.dogs-as-a-service.io/v1/images/975e9d79-27f1-43a1-8e6f-84d246133b1d/analysis\", \"collection\": \"https://api.dogs-as-a-service.io/v1/images\", \"self\": \"https://api.dogs-as-a-service.io/v1/images/975e9d79-27f1-43a1-8e6f-84d246133b1d\" }, \"created_at\": \"2020-01-28T18:50:42\", \"locked\": false, \"original_name\": \"photo5251208191151287380.jpg\", \"rejected\": false, \"size\": 91179, \"url\": \"https://cdn.dogs-as-a-service.io/975e9d79-27f1-43a1-8e6f-84d246133b1d.jpg\", \"uuid\": \"975e9d79-27f1-43a1-8e6f-84d246133b1d\" } }, \"status\": \"OK\", \"success\": true } [DELETE] Delete specified image. Authentication required Limitations: Only the person who uploaded the image can delete it. The image will become inaccessible as an object within the API. The image will become 'private' within the backend storage and the CDN scope. The image will be available from the CDN cache for some time. The image will be fully (storage backend, database) deleted after some time by the garbage collector. Example request: curl -iX DELETE \\ -H 'Content-Type: application/json' \\ -H 'Authorization: Bearer {API_TOKEN}' \\ https://api.dogs-as-a-service.io/v1/images/fc0b6b82-746a-428e-9202-5f157487a846 Example response: { \"message\": \"Deleted\", \"result\": {}, \"success\": true } Location: /images/{image uuid}/analysis [GET] Get detailed information about image analysis result. Example request: curl -iX GET \\ -H 'Content-Type: application/json' \\ https://api.dogs-as-a-service.io/v1/images/975e9d79-27f1-43a1-8e6f-84d246133b1d/analysis Example response: { \"result\": { \"_link\": { \"collection\": \"https://api.dogs-as-a-service.io/v1/images\", \"image\": \"https://api.dogs-as-a-service.io/v1/images/975e9d79-27f1-43a1-8e6f-84d246133b1d\", \"self\": \"https://api.dogs-as-a-service.io/v1/images/975e9d79-27f1-43a1-8e6f-84d246133b1d/analysis\" }, \"analysis\": [ { \"adult\": \"VERY_UNLIKELY\", \"medical\": \"VERY_UNLIKELY\", \"racy\": \"UNLIKELY\", \"spoof\": \"UNLIKELY\", \"violence\": \"VERY_UNLIKELY\" } ], \"labels\": [ { \"name\": \"Dog\", \"value\": 0.963944 }, { \"name\": \"Canidae\", \"value\": 0.959438 }, { \"name\": \"Dog breed\", \"value\": 0.910831 }, { \"name\": \"Carnivore\", \"value\": 0.801026 }, { \"name\": \"Companion dog\", \"value\": 0.767562 }, { \"name\": \"Snout\", \"value\": 0.734277 }, { \"name\": \"Puppy\", \"value\": 0.643828 }, { \"name\": \"Dog bed\", \"value\": 0.587949 }, { \"name\": \"Table\", \"value\": 0.586471 }, { \"name\": \"Non-Sporting Group\", \"value\": 0.53518 } ] }, \"status\": \"OK\", \"success\": true }","title":"v1"},{"location":"docs/v1.html#v1","text":"","title":"v1"},{"location":"docs/v1.html#description","text":"Endpoint : api.dogs-as-a-service.io/v1 . Schema : HTTPS .","title":"Description:"},{"location":"docs/v1.html#location","text":"","title":"Location: /"},{"location":"docs/v1.html#get","text":"Get welcome message.","title":"[GET]"},{"location":"docs/v1.html#example-request","text":"curl -iX GET \\ -H 'Content-Type: application/json' \\ https://api.dogs-as-a-service.io/v1","title":"Example request:"},{"location":"docs/v1.html#example-response","text":"{ \"result\": { \"message\": \"Welcome to the dogs-as-a-service public API\", \"version\": \"v1\" }, \"status\": \"OK\", \"success\": true }","title":"Example response:"},{"location":"docs/v1.html#location-image","text":"","title":"Location: /image"},{"location":"docs/v1.html#get_1","text":"Get a single image object of a random dog.","title":"[GET]"},{"location":"docs/v1.html#example-request_1","text":"curl -iX GET \\ -H 'Content-Type: application/json' \\ https://api.dogs-as-a-service.io/v1/image","title":"Example request:"},{"location":"docs/v1.html#example-response_1","text":"{ \"result\": { \"image\": { \"_link\": { \"analysis\": \"https://api.dogs-as-a-service.io/v1/images/30a6f508-c195-4d56-b709-b9de87f71ba0/analysis\", \"collection\": \"https://api.dogs-as-a-service.io/v1/images\", \"self\": \"https://api.dogs-as-a-service.io/v1/images/30a6f508-c195-4d56-b709-b9de87f71ba0\" }, \"created_at\": \"2020-01-18T18:49:21\", \"locked\": false, \"original_name\": \"photo5294069722392438879.jpg\", \"rejected\": false, \"size\": 255615, \"url\": \"https://cdn.dogs-as-a-service.io/30a6f508-c195-4d56-b709-b9de87f71ba0.jpg\", \"uuid\": \"30a6f508-c195-4d56-b709-b9de87f71ba0\" } }, \"status\": \"OK\", \"success\": true }","title":"Example response:"},{"location":"docs/v1.html#location-images","text":"","title":"Location: /images"},{"location":"docs/v1.html#get_2","text":"Get list of images uploaded by the requestor. Authentication required","title":"[GET]"},{"location":"docs/v1.html#example-request_2","text":"curl -iX GET \\ -H 'Content-Type: application/json' \\ -H 'Authorization: Bearer {API_TOKEN}' \\ https://api.dogs-as-a-service.io/v1/images","title":"Example request:"},{"location":"docs/v1.html#example-response_2","text":"{ \"result\": { \"images\": [ { \"_link\": { \"analysis\": \"https://api.dogs-as-a-service.io/v1/images/ea7b966b-1cc8-45a4-867b-233a14807dfa/analysis\", \"collection\": \"https://api.dogs-as-a-service.io/v1/images\", \"self\": \"https://api.dogs-as-a-service.io/v1/images/ea7b966b-1cc8-45a4-867b-233a14807dfa\" }, \"created_at\": \"2020-01-28T18:37:42\", \"locked\": false, \"original_name\": \"ronda.png\", \"rejected\": false, \"size\": 282228, \"url\": \"https://cdn.dogs-as-a-service.io/ea7b966b-1cc8-45a4-867b-233a14807dfa.png\", \"uuid\": \"ea7b966b-1cc8-45a4-867b-233a14807dfa\" } ] }, \"status\": \"OK\", \"success\": true }","title":"Example response:"},{"location":"docs/v1.html#post","text":"Upload new image to the dogs-as-a-service platform. Authentication required","title":"[POST]"},{"location":"docs/v1.html#limitations","text":"Before image becomes available on the platform it must comply with the following limitataions","title":"Limitations:"},{"location":"docs/v1.html#example-request_3","text":"curl -iX POST \\ -F 'file=@cool-doggo.jpg' \\ -H 'Authorization: Bearer {API_TOKEN}' \\ https://api.dogs-as-a-service.io/v1/images","title":"Example request:"},{"location":"docs/v1.html#example-response_3","text":"{ \"message\": \"Accepted\", \"result\": { \"_link\": { \"self\": \"https://api.dogs-as-a-service.io/v1/images/108aefc8-2d3e-11ea-ada8-0242ac120003\" } }, \"success\": true }","title":"Example response:"},{"location":"docs/v1.html#location-imagesimage-uuid","text":"","title":"Location: /images/{image uuid}"},{"location":"docs/v1.html#get_3","text":"Get detailed information about specified image.","title":"[GET]"},{"location":"docs/v1.html#example-request_4","text":"curl -iX GET \\ -H 'Content-Type: application/json' \\ https://api.dogs-as-a-service.io/v1/images/fc0b6b82-746a-428e-9202-5f157487a846","title":"Example request:"},{"location":"docs/v1.html#example-response_4","text":"{ \"result\": { \"image\": { \"_link\": { \"analysis\": \"https://api.dogs-as-a-service.io/v1/images/975e9d79-27f1-43a1-8e6f-84d246133b1d/analysis\", \"collection\": \"https://api.dogs-as-a-service.io/v1/images\", \"self\": \"https://api.dogs-as-a-service.io/v1/images/975e9d79-27f1-43a1-8e6f-84d246133b1d\" }, \"created_at\": \"2020-01-28T18:50:42\", \"locked\": false, \"original_name\": \"photo5251208191151287380.jpg\", \"rejected\": false, \"size\": 91179, \"url\": \"https://cdn.dogs-as-a-service.io/975e9d79-27f1-43a1-8e6f-84d246133b1d.jpg\", \"uuid\": \"975e9d79-27f1-43a1-8e6f-84d246133b1d\" } }, \"status\": \"OK\", \"success\": true }","title":"Example response:"},{"location":"docs/v1.html#delete","text":"Delete specified image. Authentication required","title":"[DELETE]"},{"location":"docs/v1.html#limitations_1","text":"Only the person who uploaded the image can delete it. The image will become inaccessible as an object within the API. The image will become 'private' within the backend storage and the CDN scope. The image will be available from the CDN cache for some time. The image will be fully (storage backend, database) deleted after some time by the garbage collector.","title":"Limitations:"},{"location":"docs/v1.html#example-request_5","text":"curl -iX DELETE \\ -H 'Content-Type: application/json' \\ -H 'Authorization: Bearer {API_TOKEN}' \\ https://api.dogs-as-a-service.io/v1/images/fc0b6b82-746a-428e-9202-5f157487a846","title":"Example request:"},{"location":"docs/v1.html#example-response_5","text":"{ \"message\": \"Deleted\", \"result\": {}, \"success\": true }","title":"Example response:"},{"location":"docs/v1.html#location-imagesimage-uuidanalysis","text":"","title":"Location: /images/{image uuid}/analysis"},{"location":"docs/v1.html#get_4","text":"Get detailed information about image analysis result.","title":"[GET]"},{"location":"docs/v1.html#example-request_6","text":"curl -iX GET \\ -H 'Content-Type: application/json' \\ https://api.dogs-as-a-service.io/v1/images/975e9d79-27f1-43a1-8e6f-84d246133b1d/analysis","title":"Example request:"},{"location":"docs/v1.html#example-response_6","text":"{ \"result\": { \"_link\": { \"collection\": \"https://api.dogs-as-a-service.io/v1/images\", \"image\": \"https://api.dogs-as-a-service.io/v1/images/975e9d79-27f1-43a1-8e6f-84d246133b1d\", \"self\": \"https://api.dogs-as-a-service.io/v1/images/975e9d79-27f1-43a1-8e6f-84d246133b1d/analysis\" }, \"analysis\": [ { \"adult\": \"VERY_UNLIKELY\", \"medical\": \"VERY_UNLIKELY\", \"racy\": \"UNLIKELY\", \"spoof\": \"UNLIKELY\", \"violence\": \"VERY_UNLIKELY\" } ], \"labels\": [ { \"name\": \"Dog\", \"value\": 0.963944 }, { \"name\": \"Canidae\", \"value\": 0.959438 }, { \"name\": \"Dog breed\", \"value\": 0.910831 }, { \"name\": \"Carnivore\", \"value\": 0.801026 }, { \"name\": \"Companion dog\", \"value\": 0.767562 }, { \"name\": \"Snout\", \"value\": 0.734277 }, { \"name\": \"Puppy\", \"value\": 0.643828 }, { \"name\": \"Dog bed\", \"value\": 0.587949 }, { \"name\": \"Table\", \"value\": 0.586471 }, { \"name\": \"Non-Sporting Group\", \"value\": 0.53518 } ] }, \"status\": \"OK\", \"success\": true }","title":"Example response:"}]}